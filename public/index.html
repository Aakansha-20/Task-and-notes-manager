<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
 
  <link rel="stylesheet" href="style.css">
  <script src="task.js"></script> 
    <script src="index.js"></script>
    <script src="update.js"></script>
    <title>Task manager</title>
</head>
<body>
    <h1 style="text-align: center;">Task Manager</h1>
    <br/>
    <button class="btn btn-success" id="sort" style="margin-left:600px" >Sort</button>

    <div>
        
        <div class="accordion md-accordion accordion-1" id="list" role="tablist" style="margin:50px"></div>
        </div>
    </div>
    <div id="taskCard">
        </div>
    <br/>
    <a class="btn btn-primary" href="add_task.html" role="button" style="margin-left:100px">Add New Task</a>
    <div class="form-popup" id="updateForm">
        <form  class="form-container">
          <h1>Update Task</h1>

          <label for="id"><b>id</b></label>
          <input type="text" id="id" required>
      
          <label for="title"><b>title</b></label>
          <input type="text" id="title" required>

          <label for="description"><b>Description</b></label>
          <input type="text" id="desription">
      
          <label for="date"> Due Date</label>
            <input type="date" onload="getDate()" class="form-control" id="date" 
              name="date">

          <label for="status">Status</label><br/>
        <div class="form-check" id="status">
            <input class="form-check-input" type="radio" name="status" value="option1" checked>
            <label class="form-check-label" for="status1">
              Incomplete
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="status" value="option2">
            <label class="form-check-label" for="status2">
              Complete
            </label>
          </div>
          <label for="priority">Priority</label><br/>
          <select class="custom-select" id="priority">
            <option value="Low">Low</option>
            <option value="Medium" selected>Medium</option>
            <option value="High">High</option>
          </select>
      
          <button id="updateTask" class="btn btn-secondary">Update</button> 
          <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
        </form>
      </div>
      
      <script>
        function closeForm() {
          document.getElementById("updateForm").style.display = "none";
        }
        function openUpdateForm(id) {
        getTaskById(id,function (task) {
          document.getElementById("id").value = task.id
          document.getElementById("title").value = task.title
          //document.getElementById("description").value = task.description
          document.getElementById("date").value = task.due
          document.getElementById("status").value = task.status
          document.getElementById("priority").value = task.priority
        })
        document.getElementById("updateForm").style.display = "block";
    }
  
    </script>

</body>
</html>